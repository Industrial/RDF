// Generated by LiveScript 1.3.1
var log, debug;
log = require("id-debug");
debug = log.debug;
module.exports = function(req, res, next){
  var ref$, s, p, o, outputFormat, options, this$ = this;
  ref$ = req.query, s = ref$.s, p = ref$.p, o = ref$.o;
  outputFormat = req.query.outputFormat || 'turtle';
  debug("output-format", outputFormat);
  options = {};
  if (s && s !== "_") {
    options.subject = s;
  }
  if (p && p !== "_") {
    options.predicate = p;
  }
  if (o && o !== "_") {
    options.object = o;
  }
  this.dnodeRemote.get(options, function(e, triples){
    if (e) {
      return next(e);
    }
    this$.sendFormat(outputFormat, "http://localhost:8000/api/rdf/2015/01", req, res, next, triples);
  });
};